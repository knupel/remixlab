import{g as A,m as S,k as F,n as M,o as u,j as L,p as K,q as U,r as V,f as g,Z as _,a as w,h as v,i as p,s as O,c as Z,d as P,e as h,l as D,t as N,b as j,u as k,v as z,w as B}from"./index-_I1O5d5t.js";import{p as C,f as q}from"./helpers-wg4fqsUl.js";function E(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,n)}return a}function o(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?E(Object(a),!0).forEach(function(n){W(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function W(e,r,a){return r=G(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function $(e,r){if(typeof e!="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function G(e){var r=$(e,"string");return typeof r=="symbol"?r:String(r)}function d(e,r){if(typeof e!="string")return e;if(e!=="")return typeof r!="function"?e:r(e)}function b(e){if(!(typeof File<"u"&&e instanceof File&&e.name===""&&e.size===0))return e}function H(e){return typeof File>"u"?!1:e._def.effect.type==="refinement"&&e.innerType()instanceof B&&e.safeParse(new File([],"")).success&&!e.safeParse("").success}function s(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Map,a=r.get(e);if(a)return a;var n=e;if(e instanceof A||e instanceof S||e instanceof F||e instanceof M)n=u().transform(i=>d(i)).pipe(e);else if(e instanceof L)n=u().transform(i=>d(i,f=>f.trim()===""?Number.NaN:Number(f))).pipe(e);else if(e instanceof K)n=u().transform(i=>d(i,f=>f==="on"?!0:f)).pipe(e);else if(e instanceof U)n=u().transform(i=>d(i,f=>{var t=new Date(f);return isNaN(t.getTime())?f:t})).pipe(e);else if(e instanceof V)n=u().transform(i=>d(i,BigInt)).pipe(e);else if(e instanceof g)n=u().transform(i=>Array.isArray(i)?i:typeof i>"u"||typeof b(d(i))>"u"?[]:[i]).pipe(new g(o(o({},e._def),{},{type:s(e.element,r)})));else if(e instanceof _){var c=Object.fromEntries(Object.entries(e.shape).map(i=>{var[f,t]=i;return[f,s(t,r)]}));n=new _(o(o({},e._def),{},{shape:()=>c}))}else e instanceof w?H(e)?n=u().transform(i=>b(i)).pipe(e):n=new w(o(o({},e._def),{},{schema:s(e.innerType(),r)})):e instanceof v?n=u().transform(i=>b(d(i))).pipe(new v(o(o({},e._def),{},{innerType:s(e.unwrap(),r)}))):e instanceof p?n=u().transform(i=>b(d(i))).pipe(new p(o(o({},e._def),{},{innerType:s(e.removeDefault(),r)}))):e instanceof O?n=new O(o(o({},e._def),{},{innerType:s(e.removeCatch(),r)})):e instanceof Z?n=new Z(o(o({},e._def),{},{left:s(e._def.left,r),right:s(e._def.right,r)})):e instanceof P?n=new P(o(o({},e._def),{},{options:e.options.map(i=>s(i,r))})):e instanceof h?n=new h(o(o({},e._def),{},{options:e.options.map(i=>s(i,r)),optionsMap:new Map(Array.from(e.optionsMap.entries()).map(i=>{var[f,t]=i;return[f,s(t,r)]}))})):e instanceof D?n=new D(o(o({},e._def),{},{items:e.items.map(i=>s(i,r))})):e instanceof N?n=new N(o(o({},e._def),{},{innerType:s(e.unwrap(),r)})):e instanceof j?n=new j(o(o({},e._def),{},{in:s(e._def.in,r),out:s(e._def.out,r)})):e instanceof k&&(n=z(()=>s(e.schema,r)));return e!==n&&r.set(e,n),n}function J(e,r){var a={};for(var n of e.errors){var c=q(n.path);switch(n.message){case T.VALIDATION_UNDEFINED:return null;case T.VALIDATION_SKIPPED:a[c]=null;break;default:{var i=a[c];i!==null&&(i?a[c]=i.concat(n):a[c]=[n]);break}}}return Object.entries(a).reduce((f,t)=>{var[m,l]=t;return f[m]=l?r(l):null,f},{})}function X(e,r){return C(e,{resolve(a,n){var c=r.errorMap,i=s(typeof r.schema=="function"?r.schema(n):r.schema),f=t=>{var m;return{value:t.success?t.data:void 0,error:t.success?void 0:J(t.error,(m=r.formatError)!==null&&m!==void 0?m:l=>l.map(I=>I.message))}};return r.async?i.safeParseAsync(a,{errorMap:c}).then(t=>f(t)):f(i.safeParse(a,{errorMap:c}))}})}var T={VALIDATION_SKIPPED:"__skipped__",VALIDATION_UNDEFINED:"__undefined__"};export{o as _,X as p};
//# sourceMappingURL=parse-k_gbqDJY.js.map
