import{g as On,r as $}from"./jsx-runtime-Sh_Ykj9L.js";import{A as _e,O as $n,H as Nt,P as xe,l as d,n as k,G as _,Q as kn,L as E,R as Xe,S as G,u as xn,U as Ot,V as P,W as De,X as Ae,Y as F,f as $t,K as Dn,Z as An,v as S,r as Ce,g as ne,w as kt,j as Cn,_ as Pn,d as Fn,$ as Mn,a0 as Ln,D as g,a1 as Un,a2 as Ke,a3 as Pe,a4 as Ve,M as jn,z as Hn,a5 as Bn,a6 as ye,a7 as xt,a8 as Je,a9 as N,C as re,aa as Fe,s as Dt,ab as Gn,ac as At,ad as Ee,ae as ee,c as Ct,af as Me,ag as Ze,ah as qn,ai as Pt,aj as Le,ak as Wn,al as Yn,am as zn,an as Xn,I as x,p as Kn,q as Vn,ao as Qe,ap as Ft,aq as Jn,ar as Zn,as as et,at as tt,i as Qn,b as er}from"./hub-A-poxTxS.js";function tr(t,e,n=250,r,o,s,a){if(!s.exception||!s.exception.values||!a||!_e(a.originalException,Error))return;const i=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;i&&(s.exception.values=nr(Se(t,e,o,a.originalException,r,s.exception.values,i,0),n))}function Se(t,e,n,r,o,s,a,i){if(s.length>=n+1)return s;let c=[...s];if(_e(r[o],Error)){nt(a,i);const u=t(e,r[o]),l=c.length;rt(u,o,l,i),c=Se(t,e,n,r[o],o,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(_e(u,Error)){nt(a,i);const f=t(e,u),v=c.length;rt(f,`errors[${l}]`,v,i),c=Se(t,e,n,u,o,[f,...c],f,v)}}),c}function nt(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function rt(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function nr(t,e){return t.map(n=>(n.value&&(n.value=$n(n.value,e)),n))}const rr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function or(t){return t==="http"||t==="https"}function L(t,e=!1){const{host:n,path:r,pass:o,port:s,projectId:a,protocol:i,publicKey:c}=t;return`${i}://${c}${e&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${a}`}function sr(t){const e=rr.exec(t);if(!e){Nt(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,o="",s,a="",i]=e.slice(1);let c="",u=i;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return Mt({host:s,pass:o,path:c,projectId:u,port:a,protocol:n,publicKey:r})}function Mt(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ar(t){if(!xe)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(d.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?or(r)?e&&isNaN(parseInt(e,10))?(d.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(d.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(d.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Lt(t){const e=typeof t=="string"?sr(t):Mt(t);if(!(!e||!ar(e)))return e}class w extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const Z={},ot={};function D(t,e){Z[t]=Z[t]||[],Z[t].push(e)}function A(t,e){ot[t]||(e(),ot[t]=!0)}function b(t,e){const n=t&&Z[t];if(n)for(const r of n)try{r(e)}catch(o){xe&&d.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${k(r)}
Error:`,o)}}function ir(t){const e="console";D(e,t),A(e,cr)}function cr(){"console"in _&&kn.forEach(function(t){t in _.console&&E(_.console,t,function(e){return Xe[t]=e,function(...n){b("console",{args:n,level:t});const o=Xe[t];o&&o.apply(_.console,n)}})})}const C=_,ur=1e3;let st,ve,Ie;function lr(t){const e="dom";D(e,t),A(e,fr)}function fr(){if(!C.document)return;const t=b.bind(null,"dom"),e=at(t,!0);C.document.addEventListener("click",e,!1),C.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=C[n]&&C[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(E(r,"addEventListener",function(o){return function(s,a,i){if(s==="click"||s=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[s]=u[s]||{refCount:0};if(!l.handler){const f=at(t);l.handler=f,o.call(this,s,f,i)}l.refCount++}catch{}return o.call(this,s,a,i)}}),E(r,"removeEventListener",function(o){return function(s,a,i){if(s==="click"||s=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[s];l&&(l.refCount--,l.refCount<=0&&(o.call(this,s,l.handler,i),l.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return o.call(this,s,a,i)}}))})}function dr(t){if(t.type!==ve)return!1;try{if(!t.target||t.target._sentryId!==Ie)return!1}catch{}return!0}function pr(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function at(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=hr(n);if(pr(n.type,r))return;G(n,"_sentryCaptured",!0),r&&!r._sentryId&&G(r,"_sentryId",xn());const o=n.type==="keypress"?"input":n.type;dr(n)||(t({event:n,name:o,global:e}),ve=n.type,Ie=r?r._sentryId:void 0),clearTimeout(st),st=C.setTimeout(()=>{Ie=void 0,ve=void 0},ur)}}function hr(t){try{return t.target}catch{return null}}const Te=Ot();function Ut(){if(!("fetch"in Te))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function be(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function mr(){if(typeof EdgeRuntime=="string")return!0;if(!Ut())return!1;if(be(Te.fetch))return!0;let t=!1;const e=Te.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=be(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){xe&&d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function gr(t){const e="fetch";D(e,t),A(e,_r)}function _r(){mr()&&E(_,"fetch",function(t){return function(...e){const{method:n,url:r}=yr(e),o={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return b("fetch",{...o}),t.apply(_,e).then(s=>{const a={...o,endTimestamp:Date.now(),response:s};return b("fetch",a),s},s=>{const a={...o,endTimestamp:Date.now(),error:s};throw b("fetch",a),s})}})}function we(t,e){return!!t&&typeof t=="object"&&!!t[e]}function it(t){return typeof t=="string"?t:t?we(t,"url")?t.url:t.toString?t.toString():"":""}function yr(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:it(n),method:we(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:it(e),method:we(e,"method")?String(e.method).toUpperCase():"GET"}}let z=null;function Er(t){const e="error";D(e,t),A(e,Sr)}function Sr(){z=_.onerror,_.onerror=function(t,e,n,r,o){return b("error",{column:r,error:o,line:n,msg:t,url:e}),z&&!z.__SENTRY_LOADER__?z.apply(this,arguments):!1},_.onerror.__SENTRY_INSTRUMENTED__=!0}let X=null;function vr(t){const e="unhandledrejection";D(e,t),A(e,Ir)}function Ir(){X=_.onunhandledrejection,_.onunhandledrejection=function(t){return b("unhandledrejection",t),X&&!X.__SENTRY_LOADER__?X.apply(this,arguments):!0},_.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const K=Ot();function Tr(){const t=K.chrome,e=t&&t.app&&t.app.runtime,n="history"in K&&!!K.history.pushState&&!!K.history.replaceState;return!e&&n}const j=_;let V;function jt(t){const e="history";D(e,t),A(e,br)}function br(){if(!Tr())return;const t=j.onpopstate;j.onpopstate=function(...n){const r=j.location.href,o=V;if(V=r,b("history",{from:o,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const o=r.length>2?r[2]:void 0;if(o){const s=V,a=String(o);V=a,b("history",{from:s,to:a})}return n.apply(this,r)}}E(j.history,"pushState",e),E(j.history,"replaceState",e)}const wr=_,H="__sentry_xhr_v3__";function Rr(t){const e="xhr";D(e,t),A(e,Nr)}function Nr(){if(!wr.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;E(t,"open",function(e){return function(...n){const r=Date.now(),o=P(n[0])?n[0].toUpperCase():void 0,s=Or(n[1]);if(!o||!s)return e.apply(this,n);this[H]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const i=this[H];if(i&&this.readyState===4){try{i.status_code=this.status}catch{}const c={args:[o,s],endTimestamp:Date.now(),startTimestamp:r,xhr:this};b("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?E(this,"onreadystatechange",function(i){return function(...c){return a(),i.apply(this,c)}}):this.addEventListener("readystatechange",a),E(this,"setRequestHeader",function(i){return function(...c){const[u,l]=c,f=this[H];return f&&P(u)&&P(l)&&(f.request_headers[u.toLowerCase()]=l),i.apply(this,c)}}),e.apply(this,n)}}),E(t,"send",function(e){return function(...n){const r=this[H];if(!r)return e.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const o={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return b("xhr",o),e.apply(this,n)}})}function Or(t){if(P(t))return t;try{return t.toString()}catch{}}function $r(t){const e=[];function n(){return t===void 0||e.length<t}function r(a){return e.splice(e.indexOf(a),1)[0]}function o(a){if(!n())return De(new w("Not adding Promise because buffer limit was reached."));const i=a();return e.indexOf(i)===-1&&e.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i}function s(a){return new Ae((i,c)=>{let u=e.length;if(!u)return i(!0);const l=setTimeout(()=>{a&&a>0&&i(!1)},a);e.forEach(f=>{F(f).then(()=>{--u||(clearTimeout(l),i(!0))},c)})})}return{$:e,add:o,drain:s}}function me(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const kr=["fatal","error","warning","log","info","debug"];function xr(t){return t==="warn"?"warning":kr.includes(t)?t:"log"}function U(t,e=[]){return[t,e]}function Dr(t,e){const[n,r]=t;return[n,[...r,e]]}function ct(t,e){const n=t[1];for(const r of n){const o=r[0].type;if(e(r,o))return!0}return!1}function Re(t,e){return(e||new TextEncoder).encode(t)}function Ar(t,e){const[n,r]=t;let o=JSON.stringify(n);function s(a){typeof o=="string"?o=typeof a=="string"?o+a:[Re(o,e),a]:o.push(typeof a=="string"?Re(a,e):a)}for(const a of r){const[i,c]=a;if(s(`
${JSON.stringify(i)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Dn(c))}s(u)}}return typeof o=="string"?o:Cr(o)}function Cr(t){const e=t.reduce((o,s)=>o+s.length,0),n=new Uint8Array(e);let r=0;for(const o of t)n.set(o,r),r+=o.length;return n}function Pr(t,e){const n=typeof t.data=="string"?Re(t.data,e):t.data;return[$t({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Fr={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"unknown"};function ut(t){return Fr[t]}function Ht(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Mr(t,e,n,r){const o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:L(r)},...o&&{trace:$t({...o})}}}function Lr(t,e,n){const r=[{type:"client_report"},{timestamp:n||An(),discarded_events:t}];return U(e?{dsn:e}:{},[r])}const Ur=60*1e3;function jr(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?Ur:r-e}function Hr(t,e){return t[e]||t.all||0}function Br(t,e,n=Date.now()){return Hr(t,e)>n}function Gr(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const i of s.trim().split(",")){const[c,u]=i.split(":",2),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(const v of u.split(";"))o[v]=r+f}else a?o.all=r+jr(a,r):e===429&&(o.all=r+60*1e3);return o}function Bt(t){let e,n=t[0],r=1;for(;r<t.length;){const o=t[r],s=t[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(e=n,n=s(n)):(o==="call"||o==="optionalCall")&&(n=s((...a)=>n.call(e,...a)),e=void 0)}return n}function Gt(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=S(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function ya(t){if(!Gt())return;const e=Wr(t),n=ne(),r=t.scope?t.scope.getSpan():q();if(t.onlyIfParent&&!r)return;const a=(t.scope||Ce()).clone();return qr(n,{parentSpan:r,spanContext:e,forceTransaction:t.forceTransaction,scope:a})}function q(){return Ce().getSpan()}function qr(t,{parentSpan:e,spanContext:n,forceTransaction:r,scope:o}){if(!Gt())return;const s=kt();let a;if(e&&!r)a=e.startChild(n);else if(e){const i=Cn(e),{traceId:c,spanId:u}=e.spanContext(),l=Pn(e);a=t.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:i,...n.metadata}})}else{const{traceId:i,dsc:c,parentSpanId:u,sampled:l}={...s.getPropagationContext(),...o.getPropagationContext()};a=t.startTransaction({traceId:i,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return o.setSpan(a),Yr(a,o,s),a}function Wr(t){if(t.startTime){const e={...t};return e.startTimestamp=Fn(t.startTime),delete e.startTime,e}return t}const qt="_sentryScope",Wt="_sentryIsolationScope";function Yr(t,e,n){t&&(G(t,Wt,n),G(t,qt,e))}function Ea(t){return{scope:t[qt],isolationScope:t[Wt]}}const zr="sentry.source",Sa="sentry.sample_rate",va="sentry.op",Ia="sentry.origin",Ta="profile_id";function Xr(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Kr(t,e,n,r){const o=Ht(n),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&e&&{dsn:L(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return U(s,[a])}function Vr(t,e,n,r){const o=Ht(n),s=t.type&&t.type!=="replay_event"?t.type:"event";Xr(t,n&&n.sdk);const a=Mr(t,o,r,e);return delete t.sdkProcessingMetadata,U(a,[[{type:s},t]])}const Jr="7";function Yt(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Zr(t){return`${Yt(t)}${t.projectId}/envelope/`}function Qr(t,e){return Mn({sentry_key:t.publicKey,sentry_version:Jr,...e&&{sentry_client:`${e.name}/${e.version}`}})}function eo(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${Zr(t)}?${Qr(t,r)}`}function to(t,e){const n=Lt(t);if(!n)return"";const r=`${Yt(n)}embed/error-page/`;let o=`dsn=${L(n)}`;for(const s in e)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const a=e.user;if(!a)continue;a.name&&(o+=`&name=${encodeURIComponent(a.name)}`),a.email&&(o+=`&email=${encodeURIComponent(a.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`;return`${r}?${o}`}const lt=[];function no(t){const e={};return t.forEach(n=>{const{name:r}=n,o=e[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.keys(e).map(n=>e[n])}function ro(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=Ln(n(e)):r=e;const o=no(r),s=so(o,a=>a.name==="Debug");if(s!==-1){const[a]=o.splice(s,1);o.push(a)}return o}function oo(t,e){const n={};return e.forEach(r=>{r&&zt(t,r,n)}),n}function ft(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function zt(t,e,n){if(n[e.name]){g&&d.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,lt.indexOf(e.name)===-1&&(e.setupOnce(Un,ne),lt.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,s)=>r(o,s,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){const r=e.processEvent.bind(e),o=Object.assign((s,a)=>r(s,a,t),{id:e.name});t.addEventProcessor(o)}g&&d.log(`Integration installed: ${e.name}`)}function so(t,e){for(let n=0;n<t.length;n++)if(e(t[n])===!0)return n;return-1}function O(t,e){return Object.assign(function(...r){return e(...r)},{id:t})}function ba(t){return t}function ao(t){let e="";for(const n of t){const r=Object.entries(n.tags),o=r.length>0?`|#${r.map(([s,a])=>`${s}:${a}`).join(",")}`:"";e+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}
`}return e}function io(t,e,n,r){const o={sent_at:new Date().toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&e&&(o.dsn=L(e));const s=co(t);return U(o,[s])}function co(t){const e=ao(t);return[{type:"statsd",length:e.length},e]}const dt="Not capturing exception because it's already been captured.";class uo{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Lt(e.dsn):g&&d.warn("No DSN provided, client will not send events."),this._dsn){const n=eo(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,r){if(Ke(e)){g&&d.log(dt);return}let o=n&&n.event_id;return this._process(this.eventFromException(e,n).then(s=>this._captureEvent(s,n,r)).then(s=>{o=s})),o}captureMessage(e,n,r,o){let s=r&&r.event_id;const a=xt(e)?e:String(e),i=Pe(e)?this.eventFromMessage(a,n,r):this.eventFromException(e,r);return this._process(i.then(c=>this._captureEvent(c,r,o)).then(c=>{s=c})),s}captureEvent(e,n,r){if(n&&n.originalException&&Ke(n.originalException)){g&&d.log(dt);return}let o=n&&n.event_id;const a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,n,a||r).then(i=>{o=i})),o}captureSession(e){typeof e.release!="string"?g&&d.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ve(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(o=>r&&o))):F(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return g&&d.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const n=this._integrations[e.name];zt(this,e,this._integrations),n||ft(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=Vr(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=Dr(r,Pr(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(r);o&&o.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const n=Kr(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const o=`${e}:${n}`;g&&d.log(`Adding outcome: "${o}"`),this._outcomes[o]=this._outcomes[o]+1||1}}captureAggregateMetrics(e){g&&d.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const n=io(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=oo(this,e),ft(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,n){let r=!1,o=!1;const s=n.exception&&n.exception.values;if(s){o=!0;for(const c of s){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const a=e.status==="ok";(a&&e.errors===0||a&&r)&&(Ve(e,{...r&&{status:"crashed"},errors:e.errors||Number(o||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ae(n=>{let r=0;const o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=o,e&&r>=e&&(clearInterval(s),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,o=kt()){const s=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a.length>0&&(n.integrations=a),this.emit("preprocessEvent",e,n),jn(s,e,n,r,this,o).then(i=>{if(i===null)return i;const c={...o.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(i.contexts&&i.contexts.trace)&&c){const{traceId:l,spanId:f,parentSpanId:v,dsc:m}=c;i.contexts={trace:{trace_id:l,span_id:f,parent_span_id:v},...i.contexts};const R=m||Hn(l,this,r);i.sdkProcessingMetadata={dynamicSamplingContext:R,...i.sdkProcessingMetadata}}return i})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(o=>o.event_id,o=>{if(g){const s=o;s.logLevel==="log"?d.log(s.message):d.warn(s)}})}_processEvent(e,n,r){const o=this.getOptions(),{sampleRate:s}=o,a=Kt(e),i=Xt(e),c=e.type||"error",u=`before send for type \`${c}\``;if(i&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),De(new w(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const l=c==="replay_event"?"replay":c,v=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,v).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",l,e),new w("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const Y=fo(o,m,n);return lo(Y,u)}).then(m=>{if(m===null)throw this.recordDroppedEvent("before_send",l,e),new w(`${u} returned \`null\`, will not send event.`,"log");const R=r&&r.getSession();!a&&R&&this._updateSessionFromEvent(R,m);const Y=m.transaction_info;if(a&&Y&&m.transaction!==e.transaction){const Nn="custom";m.transaction_info={...Y,source:Nn}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof w?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new w(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,n=>{g&&d.error("Error while sending event:",n)});g&&d.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,o]=n.split(":");return{reason:r,category:o,quantity:e[n]}})}}function lo(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Bn(t))return t.then(r=>{if(!ye(r)&&r!==null)throw new w(n);return r},r=>{throw new w(`${e} rejected with ${r}`)});if(!ye(t)&&t!==null)throw new w(n);return t}function fo(t,e,n){const{beforeSend:r,beforeSendTransaction:o}=t;return Xt(e)&&r?r(e,n):Kt(e)&&o?o(e,n):e}function Xt(t){return t.type===void 0}function Kt(t){return t.type==="transaction"}function wa(t){const e=S();!e||!e.addEventProcessor||e.addEventProcessor(t)}function po(t,e){e.debug===!0&&(g?d.enable():Nt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ce().update(e.initialScope);const r=new t(e);ho(r),mo(r)}function ho(t){const n=ne().getStackTop();n.client=t,n.scope.setClient(t)}function mo(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}const go=30;function Vt(t,e,n=$r(t.bufferSize||go)){let r={};const o=a=>n.drain(a);function s(a){const i=[];if(ct(a,(f,v)=>{const m=ut(v);if(Br(r,m)){const R=pt(f,v);t.recordDroppedEvent("ratelimit_backoff",m,R)}else i.push(f)}),i.length===0)return F();const c=U(a[0],i),u=f=>{ct(c,(v,m)=>{const R=pt(v,m);t.recordDroppedEvent(f,ut(m),R)})},l=()=>e({body:Ar(c,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&g&&d.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=Gr(r,f),f),f=>{throw u("network_error"),f});return n.add(l).then(f=>f,f=>{if(f instanceof w)return g&&d.error("Skipped sending event because buffer is full."),u("queue_overflow"),F();throw f})}return s.__sentry__baseTransport__=!0,{send:s,flush:o}}function pt(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}function _o(t,e,n=[e],r="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Je})),version:Je}),t._metadata=o}const yo=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Eo=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Jt="InboundFilters",So=(t={})=>({name:Jt,setupOnce(){},processEvent(e,n,r){const o=r.getOptions(),s=vo(t,o);return Io(e,s)?null:e}}),Zt=So;O(Jt,Zt);function vo(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:yo],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:Eo],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Io(t,e){return e.ignoreInternal&&Oo(t)?(g&&d.warn(`Event dropped due to being internal Sentry Error.
Event: ${N(t)}`),!0):To(t,e.ignoreErrors)?(g&&d.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${N(t)}`),!0):bo(t,e.ignoreTransactions)?(g&&d.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${N(t)}`),!0):wo(t,e.denyUrls)?(g&&d.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${N(t)}.
Url: ${te(t)}`),!0):Ro(t,e.allowUrls)?!1:(g&&d.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${N(t)}.
Url: ${te(t)}`),!0)}function To(t,e){return t.type||!e||!e.length?!1:No(t).some(n=>re(n,e))}function bo(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?re(n,e):!1}function wo(t,e){if(!e||!e.length)return!1;const n=te(t);return n?re(n,e):!1}function Ro(t,e){if(!e||!e.length)return!0;const n=te(t);return n?re(n,e):!0}function No(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),g&&e.length===0&&d.error(`Could not extract message for event ${N(t)}`),e}function Oo(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function $o(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function te(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?$o(e):null}catch{return g&&d.error(`Cannot extract url for event ${N(t)}`),null}}let ht;const Qt="FunctionToString",mt=new WeakMap,ko=()=>({name:Qt,setupOnce(){ht=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Fe(this),n=mt.has(S())&&e!==void 0?e:this;return ht.apply(n,t)}}catch{}},setup(t){mt.set(t,!0)}}),en=ko;O(Qt,en);function xo(t,e){if(!t.emit)return;t.emit("startPageLoadSpan",e);const n=q();return(n&&Dt(n).op)==="pageload"?n:void 0}function Do(t,e){if(!t.emit)return;t.emit("startNavigationSpan",e);const n=q();return(n&&Dt(n).op)==="navigation"?n:void 0}const p=_;let Ne=0;function tn(){return Ne>0}function Ao(){Ne++,setTimeout(()=>{Ne--})}function M(t,e={},n){if(typeof t!="function")return t;try{const o=t.__sentry_wrapped__;if(o)return o;if(Fe(t))return t}catch{return t}const r=function(){const o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=o.map(a=>M(a,e));return t.apply(this,s)}catch(s){throw Ao(),At(a=>{a.addEventProcessor(i=>(e.mechanism&&(Ee(i,void 0,void 0),ee(i,e.mechanism)),i.extra={...i.extra,arguments:o},i)),Ct(s)}),s}};try{for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch{}Gn(r,t),G(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}const T=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function nn(t,e){const n=Ue(t,e),r={type:e&&e.name,value:Mo(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Co(t,e,n,r){const o=S(),s=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:Le(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:jo(e,{isUnhandledRejection:r})}]},extra:{__serialized__:Wn(e,s)}};if(n){const i=Ue(t,n);i.length&&(a.exception.values[0].stacktrace={frames:i})}return a}function ge(t,e){return{exception:{values:[nn(t,e)]}}}function Ue(t,e){const n=e.stacktrace||e.stack||"",r=Fo(e);try{return t(n,r)}catch{}return[]}const Po=/Minified React error #\d+;/i;function Fo(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Po.test(t.message))return 1}return 0}function Mo(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Lo(t,e,n,r){const o=n&&n.syntheticException||void 0,s=je(t,e,o,r);return ee(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),F(s)}function Uo(t,e,n="info",r,o){const s=r&&r.syntheticException||void 0,a=Oe(t,e,s,o);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),F(a)}function je(t,e,n,r,o){let s;if(Me(e)&&e.error)return ge(t,e.error);if(Ze(e)||qn(e)){const a=e;if("stack"in e)s=ge(t,e);else{const i=a.name||(Ze(a)?"DOMError":"DOMException"),c=a.message?`${i}: ${a.message}`:i;s=Oe(t,c,n,r),Ee(s,c)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return Pt(e)?ge(t,e):ye(e)||Le(e)?(s=Co(t,e,n,o),ee(s,{synthetic:!0}),s):(s=Oe(t,e,n,r),Ee(s,`${e}`,void 0),ee(s,{synthetic:!0}),s)}function Oe(t,e,n,r){const o={};if(r&&n){const s=Ue(t,n);s.length&&(o.exception={values:[{value:e,stacktrace:{frames:s}}]})}if(xt(e)){const{__sentry_template_string__:s,__sentry_template_values__:a}=e;return o.logentry={message:s,params:a},o}return o.message=e,o}function jo(t,{isUnhandledRejection:e}){const n=Yn(t),r=e?"promise rejection":"exception";return Me(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:Le(t)?`Event \`${Ho(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Ho(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Bo(t,{metadata:e,tunnel:n,dsn:r}){const o={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:L(r)}},s=Go(t);return U(o,[s])}function Go(t){return[{type:"user_report"},t]}class qo extends uo{constructor(e){const n=p.SENTRY_SDK_SOURCE||zn();_o(e,"browser",["browser"],n),super(e),e.sendClientReports&&p.document&&p.document.addEventListener("visibilitychange",()=>{p.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return Lo(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return Uo(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){T&&d.warn("SDK not enabled, will not capture user feedback.");return}const n=Bo(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){T&&d.log("No outcomes to send");return}if(!this._dsn){T&&d.log("No dsn provided, will not send outcomes");return}T&&d.log("Sending outcomes:",e);const n=Lr(e,this._options.tunnel&&L(this._dsn));this._sendEnvelope(n)}}let B;function Wo(){if(B)return B;if(be(p.fetch))return B=p.fetch.bind(p);const t=p.document;let e=p.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){T&&d.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return B=e.bind(p)}function Yo(){B=void 0}function zo(t,e=Wo()){let n=0,r=0;function o(s){const a=s.body.length;n+=a,r++;const i={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,i).then(c=>(n-=a,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Yo(),n-=a,r--,De(c)}}return Vt(t,o)}const Xo=4;function Ko(t){function e(n){return new Ae((r,o)=>{const s=new XMLHttpRequest;s.onerror=o,s.onreadystatechange=()=>{s.readyState===Xo&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",t.url);for(const a in t.headers)Object.prototype.hasOwnProperty.call(t.headers,a)&&s.setRequestHeader(a,t.headers[a]);s.send(n.body)})}return Vt(t,e)}const oe="?",Vo=30,Jo=40,Zo=50;function He(t,e,n,r){const o={filename:t,function:e,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}const Qo=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,es=/\((\S*)(?::(\d+))(?::(\d+))\)/,ts=t=>{const e=Qo.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const s=es.exec(e[2]);s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3])}const[r,o]=rn(e[1]||oe,e[2]);return He(o,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},ns=[Vo,ts],rs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,os=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ss=t=>{const e=rs.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=os.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let r=e[3],o=e[1]||oe;return[o,r]=rn(o,r),He(r,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},as=[Zo,ss],is=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,cs=t=>{const e=is.exec(t);return e?He(e[2],e[1]||oe,+e[3],e[4]?+e[4]:void 0):void 0},us=[Jo,cs],ls=[ns,as,us],fs=Xn(...ls),rn=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:oe,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},J=1024,on="Breadcrumbs",ds=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:on,setupOnce(){},setup(n){e.console&&ir(ms(n)),e.dom&&lr(hs(n,e.dom)),e.xhr&&Rr(gs(n)),e.fetch&&gr(_s(n)),e.history&&jt(ys(n)),e.sentry&&n.on&&n.on("beforeSendEvent",ps(n))}}},sn=ds;O(on,sn);function ps(t){return function(n){S()===t&&x({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:N(n)},{event:n})}}function hs(t,e){return function(r){if(S()!==t)return;let o,s,a=typeof e=="object"?e.serializeAttribute:void 0,i=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;i&&i>J&&(T&&d.warn(`\`dom.maxStringLength\` cannot exceed ${J}, but a value of ${i} was configured. Sentry will use ${J} instead.`),i=J),typeof a=="string"&&(a=[a]);try{const u=r.event,l=Es(u)?u.target:u;o=Kn(l,{keyAttrs:a,maxStringLength:i}),s=Vn(l)}catch{o="<unknown>"}if(o.length===0)return;const c={category:`ui.${r.name}`,message:o};s&&(c.data={"ui.component_name":s}),x(c,{event:r.event,name:r.name,global:r.global})}}function ms(t){return function(n){if(S()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:xr(n.level),message:Qe(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Qe(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;x(r,{input:n.args,level:n.level})}}function gs(t){return function(n){if(S()!==t)return;const{startTimestamp:r,endTimestamp:o}=n,s=n.xhr[H];if(!r||!o||!s)return;const{method:a,url:i,status_code:c,body:u}=s,l={method:a,url:i,status_code:c},f={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o};x({category:"xhr",data:l,type:"http"},f)}}function _s(t){return function(n){if(S()!==t)return;const{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,a={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};x({category:"fetch",data:s,level:"error",type:"http"},a)}else{const s=n.response,a={...n.fetchData,status_code:s&&s.status},i={input:n.args,response:s,startTimestamp:r,endTimestamp:o};x({category:"fetch",data:a,type:"http"},i)}}}function ys(t){return function(n){if(S()!==t)return;let r=n.from,o=n.to;const s=me(p.location.href);let a=r?me(r):void 0;const i=me(o);(!a||!a.path)&&(a=s),s.protocol===i.protocol&&s.host===i.host&&(o=i.relative),s.protocol===a.protocol&&s.host===a.host&&(r=a.relative),x({category:"navigation",data:{from:r,to:o}})}}function Es(t){return!!t&&!!t.target}const an="Dedupe",Ss=()=>{let t;return{name:an,setupOnce(){},processEvent(e){if(e.type)return e;try{if(vs(e,t))return T&&d.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},cn=Ss;O(an,cn);function vs(t,e){return e?!!(Is(t,e)||Ts(t,e)):!1}function Is(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ln(t,e)||!un(t,e))}function Ts(t,e){const n=gt(e),r=gt(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ln(t,e)||!un(t,e))}function un(t,e){let n=_t(t),r=_t(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function ln(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function gt(t){return t.exception&&t.exception.values&&t.exception.values[0]}function _t(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const fn="GlobalHandlers",bs=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:fn,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(ws(n),yt("onerror")),e.onunhandledrejection&&(Rs(n),yt("onunhandledrejection"))}}},dn=bs;O(fn,dn);function ws(t){Er(e=>{const{stackParser:n,attachStacktrace:r}=hn();if(S()!==t||tn())return;const{msg:o,url:s,line:a,column:i,error:c}=e,u=c===void 0&&P(o)?$s(o,s,a,i):pn(je(n,c||o,void 0,r,!1),s,a,i);u.level="error",Ft(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Rs(t){vr(e=>{const{stackParser:n,attachStacktrace:r}=hn();if(S()!==t||tn())return;const o=Ns(e),s=Pe(o)?Os(o):je(n,o,void 0,r,!0);s.level="error",Ft(s,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Ns(t){if(Pe(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return t}function Os(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function $s(t,e,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Me(t)?t.message:t,a="Error";const i=s.match(o);return i&&(a=i[1],s=i[2]),pn({exception:{values:[{type:a,value:s}]}},e,n,r)}function pn(t,e,n,r){const o=t.exception=t.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{},i=a.stacktrace=a.stacktrace||{},c=i.frames=i.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,f=P(e)&&e.length>0?e:Jn();return c.length===0&&c.push({colno:u,filename:f,function:"?",in_app:!0,lineno:l}),t}function yt(t){T&&d.log(`Global Handler attached: ${t}`)}function hn(){const t=S();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const mn="HttpContext",ks=()=>({name:mn,setupOnce(){},preprocessEvent(t){if(!p.navigator&&!p.location&&!p.document)return;const e=t.request&&t.request.url||p.location&&p.location.href,{referrer:n}=p.document||{},{userAgent:r}=p.navigator||{},o={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...t.request,...e&&{url:e},headers:o};t.request=s}}),gn=ks;O(mn,gn);const xs="cause",Ds=5,_n="LinkedErrors",As=(t={})=>{const e=t.limit||Ds,n=t.key||xs;return{name:_n,setupOnce(){},preprocessEvent(r,o,s){const a=s.getOptions();tr(nn,a.stackParser,a.maxValueLength,n,e,r,o)}}},yn=As;O(_n,yn);const Cs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],En="TryCatch",Ps=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:En,setupOnce(){e.setTimeout&&E(p,"setTimeout",Et),e.setInterval&&E(p,"setInterval",Et),e.requestAnimationFrame&&E(p,"requestAnimationFrame",Fs),e.XMLHttpRequest&&"XMLHttpRequest"in p&&E(XMLHttpRequest.prototype,"send",Ms);const n=e.eventTarget;n&&(Array.isArray(n)?n:Cs).forEach(Ls)}}},Sn=Ps;O(En,Sn);function Et(t){return function(...e){const n=e[0];return e[0]=M(n,{mechanism:{data:{function:k(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Fs(t){return function(e){return t.apply(this,[M(e,{mechanism:{data:{function:"requestAnimationFrame",handler:k(t)},handled:!1,type:"instrument"}})])}}function Ms(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&E(n,o,function(s){const a={mechanism:{data:{function:o,handler:k(s)},handled:!1,type:"instrument"}},i=Fe(s);return i&&(a.mechanism.data.handler=k(i)),M(s,a)})}),t.apply(this,e)}}function Ls(t){const e=p,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(E(n,"addEventListener",function(r){return function(o,s,a){try{typeof s.handleEvent=="function"&&(s.handleEvent=M(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:k(s),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,M(s,{mechanism:{data:{function:"addEventListener",handler:k(s),target:t},handled:!1,type:"instrument"}}),a])}}),E(n,"removeEventListener",function(r){return function(o,s,a){const i=s;try{const c=i&&i.__sentry_wrapped__;c&&r.call(this,o,c,a)}catch{}return r.call(this,o,i,a)}}))}const Us=[Zt(),en(),Sn(),sn(),dn(),yn(),cn(),gn()];function js(t){return[...Us]}function Ra(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=js()),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),p.SENTRY_RELEASE&&p.SENTRY_RELEASE.id&&(t.release=p.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:Zn(t.stackParser||fs),integrations:ro(t),transport:t.transport||(Ut()?zo:Ko)};po(qo,e),t.autoSessionTracking&&Hs()}const St=(t={},e=ne())=>{if(!p.document){T&&d.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=e.getStackTop(),o=t.dsn||n&&n.getDsn();if(!o){T&&d.error("DSN not configured for showReportDialog call");return}r&&(t.user={...r.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const s=p.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=to(o,t),t.onLoad&&(s.onload=t.onLoad);const{onClose:a}=t;if(a){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{a()}finally{p.removeEventListener("message",c)}};p.addEventListener("message",c)}const i=p.document.head||p.document.body;i?i.appendChild(s):T&&d.error("Not injecting report dialog. No injection point found in HTML")};function Hs(){if(typeof p.document>"u"){T&&d.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}et({ignoreDuration:!0}),tt(),jt(({from:t,to:e})=>{t!==void 0&&t!==e&&(et({ignoreDuration:!0}),tt())})}var vn={exports:{}},h={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y=typeof Symbol=="function"&&Symbol.for,Be=y?Symbol.for("react.element"):60103,Ge=y?Symbol.for("react.portal"):60106,se=y?Symbol.for("react.fragment"):60107,ae=y?Symbol.for("react.strict_mode"):60108,ie=y?Symbol.for("react.profiler"):60114,ce=y?Symbol.for("react.provider"):60109,ue=y?Symbol.for("react.context"):60110,qe=y?Symbol.for("react.async_mode"):60111,le=y?Symbol.for("react.concurrent_mode"):60111,fe=y?Symbol.for("react.forward_ref"):60112,de=y?Symbol.for("react.suspense"):60113,Bs=y?Symbol.for("react.suspense_list"):60120,pe=y?Symbol.for("react.memo"):60115,he=y?Symbol.for("react.lazy"):60116,Gs=y?Symbol.for("react.block"):60121,qs=y?Symbol.for("react.fundamental"):60117,Ws=y?Symbol.for("react.responder"):60118,Ys=y?Symbol.for("react.scope"):60119;function I(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Be:switch(t=t.type,t){case qe:case le:case se:case ie:case ae:case de:return t;default:switch(t=t&&t.$$typeof,t){case ue:case fe:case he:case pe:case ce:return t;default:return e}}case Ge:return e}}}function In(t){return I(t)===le}h.AsyncMode=qe;h.ConcurrentMode=le;h.ContextConsumer=ue;h.ContextProvider=ce;h.Element=Be;h.ForwardRef=fe;h.Fragment=se;h.Lazy=he;h.Memo=pe;h.Portal=Ge;h.Profiler=ie;h.StrictMode=ae;h.Suspense=de;h.isAsyncMode=function(t){return In(t)||I(t)===qe};h.isConcurrentMode=In;h.isContextConsumer=function(t){return I(t)===ue};h.isContextProvider=function(t){return I(t)===ce};h.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Be};h.isForwardRef=function(t){return I(t)===fe};h.isFragment=function(t){return I(t)===se};h.isLazy=function(t){return I(t)===he};h.isMemo=function(t){return I(t)===pe};h.isPortal=function(t){return I(t)===Ge};h.isProfiler=function(t){return I(t)===ie};h.isStrictMode=function(t){return I(t)===ae};h.isSuspense=function(t){return I(t)===de};h.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===se||t===le||t===ie||t===ae||t===de||t===Bs||typeof t=="object"&&t!==null&&(t.$$typeof===he||t.$$typeof===pe||t.$$typeof===ce||t.$$typeof===ue||t.$$typeof===fe||t.$$typeof===qs||t.$$typeof===Ws||t.$$typeof===Ys||t.$$typeof===Gs)};h.typeOf=I;vn.exports=h;var zs=vn.exports,We=zs,Xs={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ks={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vs={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Tn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ye={};Ye[We.ForwardRef]=Vs;Ye[We.Memo]=Tn;function vt(t){return We.isMemo(t)?Tn:Ye[t.$$typeof]||Xs}var Js=Object.defineProperty,Zs=Object.getOwnPropertyNames,It=Object.getOwnPropertySymbols,Qs=Object.getOwnPropertyDescriptor,ea=Object.getPrototypeOf,Tt=Object.prototype;function bn(t,e,n){if(typeof e!="string"){if(Tt){var r=ea(e);r&&r!==Tt&&bn(t,r,n)}var o=Zs(e);It&&(o=o.concat(It(e)));for(var s=vt(t),a=vt(e),i=0;i<o.length;++i){var c=o[i];if(!Ks[c]&&!(n&&n[c])&&!(a&&a[c])&&!(s&&s[c])){var u=Qs(e,c);try{Js(t,c,u)}catch{}}}}return t}var ta=bn;const na=On(ta),ra=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,bt="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function oa(t){const e=t.match(/^([^.]+)/);return e!==null&&parseInt(e[0])>=17}const sa="unknown",wt={componentStack:null,error:null,eventId:null};function aa(t,e){const n=new WeakMap;function r(o,s){if(!n.has(o)){if(o.cause)return n.set(o,!0),r(o.cause,s);o.cause=s}}r(t,e)}class ze extends $.Component{constructor(e){super(e),ze.prototype.__init.call(this),this.state=wt,this._openFallbackReportDialog=!0;const n=S();n&&n.on&&e.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&St({...e.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(e,{componentStack:n}){const{beforeCapture:r,onError:o,showDialog:s,dialogOptions:a}=this.props;At(i=>{if(oa($.version)&&Pt(e)){const u=new Error(e.message);u.name=`React ErrorBoundary ${e.name}`,u.stack=n,aa(e,u)}r&&r(i,e,n);const c=Ct(e,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!1}});o&&o(e,n,c),s&&(this._lastEventId=c,this._openFallbackReportDialog&&St({...a,eventId:c})),this.setState({error:e,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:e}=this.props;e&&e()}componentWillUnmount(){const{error:e,componentStack:n,eventId:r}=this.state,{onUnmount:o}=this.props;o&&o(e,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:e}=this.props,{error:n,componentStack:r,eventId:o}=this.state;e&&e(n,r,o),this.setState(wt)}}render(){const{fallback:e,children:n}=this.props,r=this.state;if(r.error){let o;return typeof e=="function"?o=e({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):o=e,$.isValidElement(o)?o:(e&&ra&&d.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function ia(t,e){const n=t.displayName||t.name||sa,r=o=>$.createElement(ze,{...e,__self:this,__source:{fileName:bt,lineNumber:238}},$.createElement(t,{...o,__self:this,__source:{fileName:bt,lineNumber:239}}));return r.displayName=`errorBoundary(${n})`,na(r,t),r}const ca=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ua(){const t=_;if(t.__remixContext)return t.__remixContext.future}function la(){return Bt([_,"access",e=>e.__remixContext,"optionalAccess",e=>e.state,"optionalAccess",e=>e.loaderData,"optionalAccess",e=>e.root,"optionalAccess",e=>e.remixVersion])}const Rt="/home/runner/work/sentry-javascript/sentry-javascript/packages/remix/src/client/performance.tsx",wn={"routing.instrumentation":"remix-router"};let Q,$e,ke,W,Rn;function fa(){if(p&&p.location)return p.location.pathname}function da(t){return t===2||Bt([ua,"call",e=>e(),"optionalAccess",e=>e.v2_errorBoundary])||!1}function pa(){const t=fa();if(!t)return;const e={name:t,op:"pageload",origin:"auto.pageload.remix",tags:wn,metadata:{source:"url"}};if(W)W(e);else{const n=S();if(!n)return;xo(n,e)}}function ha(t){const e={name:t[t.length-1].id,op:"navigation",origin:"auto.navigation.remix",tags:wn,metadata:{source:"route"}};if(W)W(e);else{const n=S();if(!n)return;Do(n,e)}}function Na(t,e,n){return(r,o=!0,s=!0)=>{ma({useEffect:t,useLocation:e,useMatches:n,instrumentNavigation:s,customStartTransaction:r}),o&&pa()}}function Oa(t,e={wrapWithErrorBoundary:!0,errorBoundaryOptions:{}}){return r=>{if(!Q||!$e||!ke)return ca&&!Qn()&&d.warn("Remix SDK was unable to wrap your root because of one or more missing parameters."),$.createElement(t,{...r,__self:this,__source:{fileName:Rt,lineNumber:181}});let o=!1;const s=$e(),a=ke();return Q(()=>{const i=q();if(i&&a&&a.length){const c=er(i);c&&(c.updateName(a[a.length-1].id),c.setAttribute(zr,"route"))}o=!0},[]),Q(()=>{const i=q();if(o){i&&i.end();return}Rn&&a&&a.length&&(i&&i.end(),ha(a))},[s]),o=!1,!da(la())&&e.wrapWithErrorBoundary?ia(t,e.errorBoundaryOptions)(r):$.createElement(t,{...r,__self:this,__source:{fileName:Rt,lineNumber:233}})}}function ma({useEffect:t,useLocation:e,useMatches:n,instrumentNavigation:r,customStartTransaction:o}){Q=t,$e=e,ke=n,Rn=r,W=o}export{Na as A,Oa as B,T as D,Ia as S,p as W,Bt as _,Er as a,vr as b,va as c,Ta as d,zr as e,Sa as f,Ea as g,Gt as h,gr as i,Rr as j,H as k,jt as l,lr as m,wa as n,Br as o,me as p,U as q,Mr as r,ya as s,Ht as t,Gr as u,ct as v,O as w,ba as x,_o as y,Ra as z};
//# sourceMappingURL=performance-Q0p3jXRI.js.map
